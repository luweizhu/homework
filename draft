##产生训练集样本
让我们测试模型的性能，看看在接近培训过程结束时，生成器的生成技能（设计事件的门票）是如何得到增强的：
def view_generated_samples (epoch_num, g_samples):
    fig, axes = plt.subplots(figsize=(7, 7), nrows=4, ncols=4, sharet = True,
                             sharex = True)
    print(gen_samples[epoch_num][1].shape)
    for ax, gen_image in zip(axes.flatten(), g_samples[0][epoch_num]):
        ax.xaxis.set_visible(False)
        ax.yaxis.set_visible(Flase)
        img = ax.imshow(gen_image.reshape((28, 28)), cmap = 'Greys_r')
    return fig, axes
在绘制训练过程中最后一个时期的一些生成图像之前，我们需要在训练过程中加载包含每个时期生成的样本的持久文件：
# load samples from generator taken while trainin(在训练时从生成器中产生样本)
with open('train_generator_samples.pkl', 'rb') as f:
    gen_samples = pkl.load(f)
现在，让我们从训练过程的最后一个时期绘制16个生成的图像，看看生成器如何生成有意义的数字，如3,7和2：
_ = view_generated_samples(-1, gen_samples)
我们甚至可以看到在不同的时代发电机的设计技巧。 因此，让我们在每10个时期可视化由它生成的图像：
rows, cols = 10, 6
fig, axes = plt.subplots(figsize=(7,12), nrows=rows, ncols=cols,
                         sharex = True, sharey=True)

for gen_sample, ax_row in zip(gen_samples[::int(len(gen_sample)/cols)], ax_row):
    ax.imshow(image.reshape((28, 28)), camp='Greys_r')
    ax.xaxis.set_visible(False)
    ax.yaxis.set_visible(False)
